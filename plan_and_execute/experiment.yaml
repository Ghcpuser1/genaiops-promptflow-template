azure_config:
  subscription_id: ${SUBSCRIPTION_ID}
  resource_group_name: ${RESOURCE_GROUP_NAME}
  workspace_name: ${WORKSPACE_NAME}
  keyvault_name: ${KEYVAULT_NAME}
  compute_target: ${COMPUTE_TARGET}
  
connections:
- connection: aoai
  api_type: azure
  api_key: ${AZURE_OPENAI_KEY}
  api_base: ${AZURE_OPENAI_ENDPOINT}
  api_version: ${AZURE_OPENAI_API_VERSION}

experiment_config:
  name: plan_and_execute
  flow: flows/standard

  datasets:
  - name: plan_and_execute_train
    source: data/data.jsonl
    description: "This dataset is for prompt experiments."
    mappings:
      question: "${data.question}"

  evaluators:
  - name: evaluator
    flow: flows/evaluation
    datasets:
    - name: plan_and_execute_test
      reference: plan_and_execute_train
      source: data/eval_data.jsonl
      description: "This dataset is for evaluating flows."
      mappings:
        question: "${data.question}"
        generated_answer: "${run.outputs.answer}"
        ground_truth_answer: "${data.answer}"